# Kotlin Android Checkout Library Documentation

## Overview
The Kotlin Android Checkout Library is a convenient and easy-to-use library that simplifies the process of implementing a checkout flow in your Android application. It provides a set of classes and methods to help you create and manage a checkout intent, handle the checkout result, and retrieve important information about the transaction.

## Installation
To use the Kotlin Android Checkout Library in your Android project, follow these steps:

1. Open your project in Android Studio.
2. Open the `build.gradle` file of your app module.
3. Add the following dependency to the `dependencies` block:

 ```groovy
     implementation "com.hubtel:checkout-sdk:1.0.8"
 ```
4. Sync your project to download the library and make it available for use in your project.

## Usage

### Creating a Checkout Intent
To initiate a checkout process, you need to create a checkout intent using the `CheckoutIntent.Builder` class. The builder allows you to set various parameters related to the checkout, such as the amount, description, merchant ID, customer information, and more. Here's an example of creating a checkout intent:

```kotlin
val themeConfig = ThemeConfig(
    primaryColor = ContextCompat.getColor(context, R.color.bright_red)
)

val intent = CheckoutIntent.Builder(context)
    .setAmount(10.24)
    .setCallbackUrl("https://url-to-your-web-server.com/payment-status")
    .setDescription("A brief description of item")
    .setMerchantId("YOUR_MERCHANT_ID")
    .setClientReference(UUID.randomUUID().toString())
    .setCustomerPhoneNumber("233505429933")
    .setTheme(themeConfig)
    .build()
```

Make sure to replace the parameter values with your own data.

Here's a quick explanation of the parameters used in the `CheckoutIntent.Builder`:

- `context`: The `Context` object representing the current context of the application.
- `amount`: The amount of the transaction `(required)`.
- `callbackUrl`: The callback URL to which the payment result will be sent (on your backend server) `(required)`.
- `description`: A description or details about the transaction `(required)`.
- `merchantId`: The unique identifier of the merchant initiating the transaction `(required)`.
- `clientReference`: A unique reference string for the transaction generated by the client `(required)`.
- `customerPhoneNumber`: The phone number of the customer initiating the transaction `(required)`.
- `themeConfig`: The configuration to set the color theme to be applied to the checkout (the checkout uses you app's primary color by default)`.
- `subtitle`: The subtitle to be displayed on the checkout UI `(optional)`.
- `logoUrl`: The URL of the logo to be displayed on the checkout UI `(optional)`.

Make sure to provide appropriate values for these parameters based on your specific use case and requirements.

### Handling the Checkout Result
To handle the result of the checkout process, you need to override the `onActivityResult` method in your activity or fragment. In this method, you can check if the request code matches the checkout request code and if the result code is `RESULT_OK`. If both conditions are met, you can retrieve the checkout status using the `CheckoutStatus.CHECKOUT_RESULT` extra key. Here's an example:

```kotlin
override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {
    super.onActivityResult(requestCode, resultCode, data)

    if (requestCode == CHECKOUT_REQUEST_CODE && resultCode == RESULT_OK) {
        val status = intent?.getParcelableExtra<CheckoutStatus?>(CheckoutStatus.CHECKOUT_RESULT)
        // Handle the checkout status
    }
}
```

Replace `CHECKOUT_REQUEST_CODE` with the actual request code used when starting the checkout process.